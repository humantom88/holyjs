# Чем мы платим за переход от <div> к WebGL

PixiJS
---
1. Убираем  див
2. Добавляем canvas
3. Ожидаем Profit, но это не так

gameofbombs.com
crazypanda.ru
---
Необходимый минимум по WebGL
---
1. Рисуем треугольниками
2. Задаем цвета
3. Выполняем шейдеры на видеокарте
---

1. Треугольники называются геометрией
2. Заполнение называется материалом

playcanvas.com - 3d рендеринг редактор в браузере

Raymarching - суперматематика

100k кроликов - вывод большого количества на экран (WEBGL может)

Проблемы WebGL:
1. Пиксельный скейлинг
2. Кривые с заполнением
---
Альфа-блендинг
---
Портер Дафф 1984 статья
R = Sx * Fs + D * Fd

Сглаживание
1. Antialiasing (затратный, на все сразу)
2. Smoothing (дешевая, на конкретную текстуру отдельно)

Пиксели при повороте текстуры в WebGL нужно отрисовывать в виде области

билинейная фильтрация - ориентирование на соседние пиксели по X и по Y

texture2D ведет себя по-разному на разных устройствах

Trilinear 
Anisotropic для 3d поверхностей

Antialiasing
Лесенка по краям текстур
- analytical (делается на CPU)
- multi-sampling (на GPU, но дорогой)

Композитные фильтры
- Тени (dropShadow)
- Анимация
BitFlyer приложение


